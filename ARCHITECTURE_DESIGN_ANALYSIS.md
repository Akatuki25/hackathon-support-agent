# å…¨ä½“è¨­è¨ˆåˆ†æãƒ¬ãƒãƒ¼ãƒˆ - ç§»è¡Œè¨ˆç”»ã‚’è€ƒæ…®ã—ãŸå†è©•ä¾¡

**ä½œæˆæ—¥**: 2025-10-09
**ç›®çš„**: ç¾åœ¨é€²è¡Œä¸­ã®ç§»è¡Œè¨ˆç”»ï¼ˆæ©Ÿèƒ½æ§‹é€ åŒ– â†’ ã‚¿ã‚¹ã‚¯ç”Ÿæˆï¼‰ã¨ãƒãƒ³ã‚ºã‚ªãƒ³ç”Ÿæˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨ˆç”»ã‚’è¸ã¾ãˆãŸã€å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åˆ†æã¨æ•´ç†

---

## ğŸ¯ ç§»è¡Œè¨ˆç”»ã®ç†è§£

### ç¾åœ¨ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

```
1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
   â†“
2. ã‚¢ã‚¤ãƒ‡ã‚¢ã‹ã‚‰Q&Aç”Ÿæˆ (/api/question)
   â†“
3. Q&Aã‹ã‚‰è¦ç´„ãƒ»ä»•æ§˜æ›¸ç”Ÿæˆ (/api/summary)
   â†“
4. æ©Ÿèƒ½è¦ä»¶ç”Ÿæˆ (/api/function_requirements)
   â†“
5. æ©Ÿèƒ½æ§‹é€ åŒ– (/api/function_structuring) â† **ReActã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**
   â†“ [StructuredFunction + FunctionDependency ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä¿å­˜]
   â†“
6. âœ¨ å®Œå…¨ã‚¿ã‚¹ã‚¯ç”Ÿæˆ (/api/complete_task_generation)
   â”‚  â”œâ”€ ã‚¿ã‚¹ã‚¯ç”Ÿæˆ (task_generation_service)
   â”‚  â”œâ”€ å“è³ªè©•ä¾¡ (task_quality_evaluation_service)
   â”‚  â”œâ”€ å“è³ªæ”¹å–„ (LangGraphãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼)
   â”‚  â”œâ”€ ä¾å­˜é–¢ä¿‚ç”Ÿæˆ (task_dependency_service)
   â”‚  â””â”€ ReactFlowåº§æ¨™è¨ˆç®— (task_position_service)
   â†“ [Task + TaskDependency ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä¿å­˜]
   â†“
7. ğŸ”® ã‚¿ã‚¹ã‚¯è©³ç´°ãƒãƒ³ã‚ºã‚ªãƒ³ç”Ÿæˆ â† **ä»Šå¾Œå®Ÿè£…äºˆå®š**
   â””â”€ å„ã‚¿ã‚¹ã‚¯ã«å…·ä½“çš„ãªå®Ÿè£…æ‰‹é †ã‚’ç”Ÿæˆ
```

---

## ğŸ“Š è¨­è¨ˆã®3ã¤ã®ãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: ãƒ¬ã‚¬ã‚·ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæ—§è¨­è¨ˆï¼‰
**ç‰¹å¾´**: å˜ç™ºAIã‚µãƒ¼ãƒ“ã‚¹ã®é›†åˆä½“

| ãƒ«ãƒ¼ã‚¿ãƒ¼ | èª¬æ˜ | çŠ¶æ…‹ |
|---------|------|------|
| `directory.py` | ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ç”Ÿæˆ | âŒ æœªä½¿ç”¨ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ï¼‰ |
| `environment.py` | ç’°å¢ƒæ§‹ç¯‰ãƒãƒ³ã‚ºã‚ªãƒ³ | âŒ æœªä½¿ç”¨ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ï¼‰ |
| `deploy.py` | ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šç”Ÿæˆ | âŒ æœªä½¿ç”¨ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ï¼‰ |
| `tasks.py` | ReactFlowã‚°ãƒ©ãƒ•å¤‰æ› | âŒ æœªä½¿ç”¨ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ï¼‰ |
| `taskDetail.py` | ã‚¿ã‚¹ã‚¯è©³ç´°ä¸¦åˆ—ç”Ÿæˆ | âŒ æœªä½¿ç”¨ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ï¼‰ |
| `taskChat.py` | é–‹ç™ºæ”¯æ´AIãƒãƒ£ãƒƒãƒˆ | âŒ æœªä½¿ç”¨ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ï¼‰ |
| `graphTask.py` | ã‚¿ã‚¹ã‚¯ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ• | âŒ æœªä½¿ç”¨ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ï¼‰ |
| `durationTask.py` | ã‚¿ã‚¹ã‚¯ä½œæ¥­æœŸé–“ç®—å‡º | âŒ æœªä½¿ç”¨ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ï¼‰ |

**å•é¡Œç‚¹**:
- æ©Ÿèƒ½ãŒæ•£åœ¨ã—ã€çµ±åˆã•ã‚Œã¦ã„ãªã„
- ã‚¿ã‚¹ã‚¯ç®¡ç†ãŒä¸€è²«ã—ã¦ã„ãªã„
- å“è³ªä¿è¨¼ã®ä»•çµ„ã¿ãŒãªã„

---

### Phase 2: ç§»è¡Œä¸­ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆç¾åœ¨ï¼‰
**ç‰¹å¾´**: æ©Ÿèƒ½æ§‹é€ åŒ–ãƒ™ãƒ¼ã‚¹ã®çµ±åˆã‚¿ã‚¹ã‚¯ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 

#### ğŸ—ï¸ ä¸­æ ¸ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆå®Ÿè£…æ¸ˆã¿ã€FEæœªæ¥ç¶šï¼‰

| ã‚µãƒ¼ãƒ“ã‚¹ | ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² | çŠ¶æ…‹ |
|---------|---------|------|------|
| **çµ±åˆã‚¿ã‚¹ã‚¯ç”Ÿæˆ** | `integrated_task_service.py` | å…¨ä½“ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | âœ… å®Ÿè£…å®Œäº† |
| **ã‚¿ã‚¹ã‚¯ç”Ÿæˆ** | `task_generation_service.py` | æ©Ÿèƒ½ã‹ã‚‰ã‚¿ã‚¹ã‚¯ç”Ÿæˆï¼ˆãƒãƒƒãƒå‡¦ç†ï¼‰ | âœ… å®Ÿè£…å®Œäº† |
| **å“è³ªè©•ä¾¡** | `task_quality_evaluation_service.py` | 2è»¸å“è³ªè©•ä¾¡ï¼ˆLayer/Domainï¼‰ | âœ… å®Ÿè£…å®Œäº† |
| **ä¾å­˜é–¢ä¿‚ç”Ÿæˆ** | `task_dependency_service.py` | ã‚¿ã‚¹ã‚¯é–“ä¾å­˜é–¢ä¿‚ã®è‡ªå‹•ç”Ÿæˆ | âœ… å®Ÿè£…å®Œäº† |
| **åº§æ¨™è¨ˆç®—** | `task_position_service.py` | ReactFlowè¡¨ç¤ºç”¨åº§æ¨™è¨ˆç®— | âœ… å®Ÿè£…å®Œäº† |

#### ğŸ“¡ APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆå®Ÿè£…æ¸ˆã¿ã€FEæœªæ¥ç¶šï¼‰

```python
# complete_task_generation.py
POST /api/complete_task_generation/generate_complete
  â†’ 1å›ã®å‘¼ã³å‡ºã—ã§å…¨å‡¦ç†ã‚’å®Ÿè¡Œ:
     1. æ©Ÿèƒ½ã‹ã‚‰ã‚¿ã‚¹ã‚¯ç”Ÿæˆ
     2. å“è³ªè©•ä¾¡
     3. å“è³ªæ”¹å–„ï¼ˆLangGraphãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€æœ€å¤§3ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
     4. ä¾å­˜é–¢ä¿‚ç”Ÿæˆ
     5. ReactFlowåº§æ¨™è¨ˆç®—
     6. DBä¸€æ‹¬ä¿å­˜ï¼ˆTask + TaskDependencyï¼‰

GET /api/complete_task_generation/preview/{project_id}
  â†’ ã‚¿ã‚¹ã‚¯ç”Ÿæˆã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆDBä¿å­˜ãªã—ï¼‰

DELETE /api/complete_task_generation/clear/{project_id}
  â†’ ç”Ÿæˆã‚¿ã‚¹ã‚¯ã‚¯ãƒªã‚¢ï¼ˆé–‹ç™ºç”¨ï¼‰
```

```python
# task_generation.pyï¼ˆå˜ä½“ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
POST /api/task_generation/generate
GET /api/task_generation/status/{project_id}
GET /api/task_generation/tasks/{project_id}
DELETE /api/task_generation/tasks/{project_id}
POST /api/task_generation/batch-test
```

```python
# task_quality.pyï¼ˆå˜ä½“ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
POST /api/task_quality/evaluate
POST /api/task_quality/improve
GET /api/task_quality/status/{project_id}
GET /api/task_quality/issues/{project_id}
DELETE /api/task_quality/cache/{project_id}
```

#### ğŸ”„ å‡¦ç†ãƒ•ãƒ­ãƒ¼è©³ç´°

```mermaid
graph TD
    A[StructuredFunction] --> B[IntegratedTaskService]
    B --> C[TaskGenerationService]
    C --> D[TaskQualityEvaluationService]
    D --> E{å“è³ªOK?}
    E -->|No| F[LangGraphæ”¹å–„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼]
    F --> D
    E -->|Yes| G[TaskDependencyService]
    G --> H[TaskPositionService]
    H --> I[DBä¸€æ‹¬ä¿å­˜]
    I --> J[Task + TaskDependency]
```

**å“è³ªè©•ä¾¡ã®2è»¸**:
1. **Layerï¼ˆæŠ€è¡“å±¤å†…æ•´åˆæ€§ï¼‰**: DBè¨­è¨ˆ â†’ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ â†’ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ ã®ä¸€è²«æ€§
2. **Domainï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³å®Œçµæ€§ï¼‰**: èªè¨¼ã€ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãªã©ãƒ‰ãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½ã®å®Œå…¨æ€§

---

### Phase 3: ç›®æ¨™ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆå°†æ¥ï¼‰
**ç‰¹å¾´**: ã‚¿ã‚¹ã‚¯è©³ç´°ãƒãƒ³ã‚ºã‚ªãƒ³ç”Ÿæˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è¿½åŠ 

```
Task (ç”Ÿæˆæ¸ˆã¿)
  â†“
ã‚¿ã‚¹ã‚¯è©³ç´°ãƒãƒ³ã‚ºã‚ªãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ â† **ã“ã‚Œã‹ã‚‰å®Ÿè£…**
  â”œâ”€ environment_serviceï¼ˆç’°å¢ƒæ§‹ç¯‰ï¼‰ã‚’å†åˆ©ç”¨ï¼Ÿ
  â”œâ”€ directory_serviceï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼‰ã‚’å†åˆ©ç”¨ï¼Ÿ
  â””â”€ æ–°ã—ã„ãƒãƒ³ã‚ºã‚ªãƒ³ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
  â†“
Task.detail ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ä¿å­˜
```

**æƒ³å®šã•ã‚Œã‚‹å®Ÿè£…æ–¹é‡**:
- ãƒ¬ã‚¬ã‚·ãƒ¼ã‚µãƒ¼ãƒ“ã‚¹ã® **ä¸€éƒ¨ãƒ­ã‚¸ãƒƒã‚¯ã‚’å†åˆ©ç”¨** ã—ã¤ã¤ã€æ–°ã—ã„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«çµ±åˆ
- ã‚¿ã‚¹ã‚¯å˜ä½ã§å…·ä½“çš„ãªå®Ÿè£…æ‰‹é †ã‚’ç”Ÿæˆï¼ˆã‚³ãƒ¼ãƒ‰ä¾‹ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€ã‚³ãƒãƒ³ãƒ‰ç­‰ï¼‰
- `Task.detail` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ä¿å­˜

---

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã®å½¹å‰²å†è©•ä¾¡

### âœ… ã‚³ã‚¢ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆçµ¶å¯¾ã«å¿…è¦ï¼‰

| ãƒ†ãƒ¼ãƒ–ãƒ« | å½¹å‰² | ä½¿ç”¨ç®‡æ‰€ | å‚™è€ƒ |
|---------|------|----------|------|
| **member** | ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç† | FEå…¨ä½“ | åŸºæœ¬æƒ…å ± |
| **projectBase** | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºæœ¬æƒ…å ± | FEå…¨ä½“ | åŸºæœ¬æƒ…å ± |
| **projectDocument** | ä»•æ§˜æ›¸ãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | Q&Aã€œæ©Ÿèƒ½æ§‹é€ åŒ– | é‡è¦ |
| **projectMember** | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ-ãƒ¡ãƒ³ãƒãƒ¼å¤šå¯¾å¤š | ã‚¿ã‚¹ã‚¯å‰²å½“ | å¿…é ˆ |
| **qa** | Q&Aç®¡ç† | Q&Aç”Ÿæˆã€œè¦ç´„ | å¿…é ˆ |
| **env** | ç’°å¢ƒè¨­å®šæƒ…å ± | ç’°å¢ƒæ§‹ç¯‰ | å¿…é ˆ |

### âœ… æ©Ÿèƒ½æ§‹é€ åŒ–ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆç§»è¡Œå¾Œã®ä¸­æ ¸ï¼‰

| ãƒ†ãƒ¼ãƒ–ãƒ« | å½¹å‰² | ä½¿ç”¨ç®‡æ‰€ | å‚™è€ƒ |
|---------|------|----------|------|
| **structured_functions** | æ§‹é€ åŒ–ã•ã‚ŒãŸæ©Ÿèƒ½æƒ…å ± | æ©Ÿèƒ½æ§‹é€ åŒ– â†’ ã‚¿ã‚¹ã‚¯ç”Ÿæˆ | **Phase 2ã®ä¸­æ ¸** |
| **function_dependencies** | æ©Ÿèƒ½é–“ä¾å­˜é–¢ä¿‚ | æ©Ÿèƒ½æ§‹é€ åŒ– | **Phase 2ã®ä¸­æ ¸** |
| **function_to_task_mapping** | æ©Ÿèƒ½-ã‚¿ã‚¹ã‚¯ãƒãƒƒãƒ”ãƒ³ã‚° | ã‚¿ã‚¹ã‚¯ç”Ÿæˆæ™‚ã«è‡ªå‹•ç”Ÿæˆ | **é‡è¦ï¼ˆãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ï¼‰** |

### âœ… ã‚¿ã‚¹ã‚¯ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆç§»è¡Œå¾Œã®ä¸­æ ¸ï¼‰

| ãƒ†ãƒ¼ãƒ–ãƒ« | å½¹å‰² | ä½¿ç”¨ç®‡æ‰€ | å‚™è€ƒ |
|---------|------|----------|------|
| **task** | ã‚¿ã‚¹ã‚¯æƒ…å ±ï¼ˆReactFlowç”¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å«ã‚€ï¼‰ | ã‚¿ã‚¹ã‚¯ç”Ÿæˆ â†’ å®Ÿè¡Œç®¡ç† | **Phase 2ã®ä¸­æ ¸** |
| **task_dependencies** | ã‚¿ã‚¹ã‚¯é–“ä¾å­˜é–¢ä¿‚ï¼ˆReactFlow Edgeï¼‰ | complete_task_generation | **Phase 2ã§è‡ªå‹•ç”Ÿæˆ** |
| **taskAssignment** | ã‚¿ã‚¹ã‚¯å‰²å½“ï¼ˆM:Nï¼‰ | ã‚¿ã‚¹ã‚¯å®Ÿè¡Œç®¡ç† | å¿…é ˆ |

### âŒ å‰Šé™¤å€™è£œãƒ†ãƒ¼ãƒ–ãƒ«

| ãƒ†ãƒ¼ãƒ–ãƒ« | ç†ç”± | å‰Šé™¤å„ªå…ˆåº¦ |
|---------|------|----------|
| **aiDocument** | APIãŒå­˜åœ¨ã›ãšå®Œå…¨ã«æœªä½¿ç”¨ | ğŸ”´ é«˜ï¼ˆå³å‰Šé™¤å¯ï¼‰ |

---

## ğŸ” APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å†åˆ†é¡

### âœ… å¿…é ˆï¼ˆPhase 2ã§ä½¿ç”¨ä¸­ã¾ãŸã¯FEã§ä½¿ç”¨ä¸­ï¼‰

#### DB CRUDç³»ï¼ˆ47å€‹ï¼‰
- Member: 7å€‹ï¼ˆGitHub nameãƒ™ãƒ¼ã‚¹ã®2å€‹ã‚’é™¤ãï¼‰
- Project: 6å€‹ï¼ˆå…¨ã¦å¿…é ˆï¼‰
- ProjectDocument: 5å€‹ï¼ˆproject_idãƒ™ãƒ¼ã‚¹ã€doc_idãƒ™ãƒ¼ã‚¹ã¯å‰Šé™¤å¯ï¼‰
- ProjectMember: 6å€‹ï¼ˆå…¨ã¦å¿…é ˆï¼‰
- Env: 7å€‹ï¼ˆå…¨ã¦å¿…é ˆï¼‰
- Task: 7å€‹ï¼ˆå…¨ã¦å¿…é ˆï¼‰
- TaskAssignment: 8å€‹ï¼ˆå…¨ã¦å¿…é ˆï¼‰
- QA: 6å€‹ï¼ˆå…¨ã¦å¿…é ˆï¼‰

#### AIã‚µãƒ¼ãƒ“ã‚¹ç³»ï¼ˆ37å€‹ï¼‰
- Q&A Generation: 2å€‹ âœ…
- Summary: 5å€‹ âœ…ï¼ˆupdate-qa-and-regenerateã¯å‰Šé™¤å¯ï¼‰
- Framework: 7å€‹ âœ…
- Technology: 3å€‹ âœ…
- Function Requirements: 7å€‹ âœ…
- Function Structuring: 6å€‹ âœ…
- **Complete Task Generation: 3å€‹** ğŸ”œ **Phase 2ã§ä½¿ç”¨äºˆå®š**
- **Task Generation: 5å€‹** ğŸ”§ **ãƒ‡ãƒãƒƒã‚°ç”¨ï¼ˆPhase 2é–‹ç™ºä¸­ï¼‰**
- **Task Quality: 5å€‹** ğŸ”§ **ãƒ‡ãƒãƒƒã‚°ç”¨ï¼ˆPhase 2é–‹ç™ºä¸­ï¼‰**

**å°è¨ˆ: 84å€‹ï¼ˆPhase 2ç§»è¡Œå¾Œï¼‰**

---

### ğŸ”„ ãƒ¬ã‚¬ã‚·ãƒ¼ï¼ˆå°†æ¥çš„ã«ãƒ­ã‚¸ãƒƒã‚¯å†åˆ©ç”¨ã®å¯èƒ½æ€§ï¼‰

#### Phase 3ãƒãƒ³ã‚ºã‚ªãƒ³ç”Ÿæˆã§å†åˆ©ç”¨äºˆå®š

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ã‚µãƒ¼ãƒ“ã‚¹ | å†åˆ©ç”¨å¯èƒ½æ€§ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|-------------|---------|------------|----------|
| `POST /api/directory/` | `directory_service.py` | ğŸŸ¡ ä¸­ | **ä¿ç•™ï¼ˆãƒ­ã‚¸ãƒƒã‚¯å†åˆ©ç”¨æ¤œè¨ï¼‰** |
| `POST /api/environment/` | `environment_service.py` | ğŸŸ¢ é«˜ | **ä¿ç•™ï¼ˆãƒ­ã‚¸ãƒƒã‚¯å†åˆ©ç”¨æœ‰åŠ›ï¼‰** |
| `POST /api/taskDetail/` | `taskDetail_service.py` | ğŸŸ¡ ä¸­ | **ä¿ç•™ï¼ˆä¸¦åˆ—å‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³å‚è€ƒï¼‰** |

#### Phase 3ã§çµ±åˆäºˆå®šï¼ˆå‰Šé™¤å€™è£œï¼‰

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ç†ç”± | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|-------------|------|----------|
| `POST /api/deploy/` | ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šã¯ç’°å¢ƒæ§‹ç¯‰ã«çµ±åˆå¯èƒ½ | ğŸ”¶ **è¦æ¤œè¨** |
| `POST /api/taskChat/` | ã‚¿ã‚¹ã‚¯æ”¯æ´ãƒãƒ£ãƒƒãƒˆã¯åˆ¥æ©Ÿèƒ½ã¨ã—ã¦æ®‹ã™å¯èƒ½æ€§ | ğŸ”¶ **è¦æ¤œè¨** |
| `POST /api/graphTask/` | ä¾å­˜é–¢ä¿‚ã¯complete_task_generationã§è‡ªå‹•ç”Ÿæˆ | ğŸ”´ **å‰Šé™¤å€™è£œ** |
| `POST /api/durationTask/` | æœŸé–“ç®—å‡ºã¯task_generationå†…ã§å®Ÿè£…æ¸ˆã¿ | ğŸ”´ **å‰Šé™¤å€™è£œ** |
| `POST /api/get_object_and_tasks/` | ReactFlowå¤‰æ›ã¯ä¸è¦ï¼ˆæ–°è¨­è¨ˆã§è‡ªå‹•åŒ–ï¼‰ | ğŸ”´ **å‰Šé™¤å€™è£œ** |

---

### âŒ å³å‰Šé™¤å¯èƒ½ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ã€ä½¿ç”¨äºˆå®šãªã—ï¼‰

ãªã—ï¼ˆPhase 3ã§ã®å†åˆ©ç”¨å¯èƒ½æ€§ã‚’è€ƒæ…®ã—ã€ã™ã¹ã¦ä¿ç•™ã¾ãŸã¯è¦æ¤œè¨ã«åˆ†é¡ï¼‰

---

## ğŸ¯ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆä¿®æ­£ç‰ˆï¼‰

### Phase 1: å³å®Ÿæ–½å¯èƒ½ï¼ˆå®‰å…¨ãªå‰Šé™¤ï¼‰

#### 1. DBãƒ†ãƒ¼ãƒ–ãƒ«å‰Šé™¤
```python
# back/models/project_base.py ã‹ã‚‰å‰Šé™¤
class AIDocument(Base):  # â† å®Œå…¨ã«æœªä½¿ç”¨
```

#### 2. å‰¯æ¬¡çš„CRUDã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‰Šé™¤ï¼ˆ5å€‹ï¼‰
- `PUT /member/github/{github_name}`
- `DELETE /member/github/{github_name}`
- `GET /project_document/id/{doc_id}`
- `PUT /project_document/id/{doc_id}`
- `DELETE /project_document/id/{doc_id}`

**ç†ç”±**: IDãƒ™ãƒ¼ã‚¹ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ä»£æ›¿å¯èƒ½

#### 3. çµ±åˆæ¸ˆã¿ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‰Šé™¤ï¼ˆ3å€‹ï¼‰
- `POST /api/get_object_and_tasks/` (tasks.py)
- `POST /api/graphTask/` (graphTask.py)
- `POST /api/durationTask/` (durationTask.py)
- `POST /api/summary/update-qa-and-regenerate` (summary.py)

**ç†ç”±**: complete_task_generationã§çµ±åˆæ¸ˆã¿

---

### Phase 2: æ¤œè¨å¾Œå®Ÿæ–½ï¼ˆæ…é‡ã«åˆ¤æ–­ï¼‰

#### 4. ãƒ¬ã‚¬ã‚·ãƒ¼ã‚µãƒ¼ãƒ“ã‚¹ã®æ‰±ã„ï¼ˆä¿ç•™ï¼‰

**ğŸŸ¢ ä¿æŒæ¨å¥¨ï¼ˆPhase 3ã§å†åˆ©ç”¨å¯èƒ½æ€§é«˜ï¼‰**:
```python
# ä¿æŒã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã¨ãƒ«ãƒ¼ã‚¿ãƒ¼
back/services/environment_service.py     # ç’°å¢ƒæ§‹ç¯‰ãƒãƒ³ã‚ºã‚ªãƒ³ç”Ÿæˆ
back/routers/environment.py

back/services/directory_service.py       # ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ç”Ÿæˆ
back/routers/directory.py

back/services/taskDetail_service.py      # ä¸¦åˆ—å‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³
back/routers/taskDetail.py
```

**ç†ç”±**:
- `environment_service`: Phase 3ã®ã‚¿ã‚¹ã‚¯è©³ç´°ãƒãƒ³ã‚ºã‚ªãƒ³ç”Ÿæˆã§**é«˜ç¢ºç‡ã§å†åˆ©ç”¨**
- `directory_service`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸè¨­å®šã§æœ‰ç”¨
- `taskDetail_service`: ä¸¦åˆ—å‡¦ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨ã—ã¦å‚è€ƒã«ãªã‚‹

**ğŸ”¶ è¦æ¤œè¨ï¼ˆãƒ“ã‚¸ãƒã‚¹è¦ä»¶æ¬¡ç¬¬ï¼‰**:
```python
back/services/deploy_service.py          # ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š
back/routers/deploy.py

back/services/taskChat_service.py        # é–‹ç™ºæ”¯æ´ãƒãƒ£ãƒƒãƒˆ
back/routers/taskChat.py
```

**ç†ç”±**:
- `deploy_service`: ãƒ‡ãƒ—ãƒ­ã‚¤è‡ªå‹•åŒ–ãŒå¿…è¦ãªã‚‰æ®‹ã™
- `taskChat_service`: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ”¯æ´æ©Ÿèƒ½ãŒå¿…è¦ãªã‚‰ç‹¬ç«‹ã•ã›ã‚‹

---

### Phase 3: ç§»è¡Œå®Œäº†å¾Œï¼ˆFEæ¥ç¶šå®Œäº†å¾Œã«å®Ÿæ–½ï¼‰

#### 5. ãƒ‡ãƒãƒƒã‚°ç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æ•´ç†

```python
# Phase 2é–‹ç™ºå®Œäº†å¾Œã€æœ¬ç•ªç’°å¢ƒã§ã¯ç„¡åŠ¹åŒ–ã‚’æ¤œè¨
POST /api/task_generation/batch-test      # ãƒ†ã‚¹ãƒˆå°‚ç”¨
DELETE /api/task_generation/tasks/{id}    # ãƒ‡ãƒãƒƒã‚°å°‚ç”¨
DELETE /api/task_quality/cache/{id}       # ãƒ‡ãƒãƒƒã‚°å°‚ç”¨
DELETE /api/complete_task_generation/clear/{id}  # ãƒ‡ãƒãƒƒã‚°å°‚ç”¨
```

**ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**:
- é–‹ç™ºç’°å¢ƒã®ã¿æœ‰åŠ¹åŒ–
- æœ¬ç•ªã§ã¯ç’°å¢ƒå¤‰æ•°ã§ç„¡åŠ¹åŒ–

---

## ğŸ“ ç§»è¡Œå¾Œã®æœ€çµ‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆPhase 2å®Œäº†æ™‚ï¼‰

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```
1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
   â†“
2. Q&Aç”Ÿæˆ â†’ è¦ç´„ãƒ»ä»•æ§˜æ›¸ â†’ æ©Ÿèƒ½è¦ä»¶
   â†“
3. æ©Ÿèƒ½æ§‹é€ åŒ–ï¼ˆReActã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰
   â†“ [StructuredFunction + FunctionDependency]
   â†“
4. å®Œå…¨ã‚¿ã‚¹ã‚¯ç”Ÿæˆï¼ˆçµ±åˆã‚µãƒ¼ãƒ“ã‚¹ï¼‰â† **FEæ¥ç¶šäºˆå®š**
   â”‚
   â”œâ”€ ã‚¿ã‚¹ã‚¯ç”Ÿæˆï¼ˆãƒãƒƒãƒå‡¦ç†ï¼‰
   â”œâ”€ å“è³ªè©•ä¾¡ï¼ˆ2è»¸ä¸¦åˆ—è©•ä¾¡ï¼‰
   â”œâ”€ å“è³ªæ”¹å–„ï¼ˆLangGraphãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰
   â”œâ”€ ä¾å­˜é–¢ä¿‚ç”Ÿæˆ
   â””â”€ ReactFlowåº§æ¨™è¨ˆç®—
   â†“ [Task + TaskDependency + FunctionToTaskMapping]
   â†“
5. ã‚¿ã‚¹ã‚¯å®Ÿè¡Œç®¡ç†ï¼ˆTaskAssignmentï¼‰
   â†“
6. [Phase 3] ã‚¿ã‚¹ã‚¯è©³ç´°ãƒãƒ³ã‚ºã‚ªãƒ³ç”Ÿæˆ â† **å°†æ¥å®Ÿè£…**
```

### APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ§‹æˆï¼ˆPhase 2å®Œäº†å¾Œï¼‰

| ã‚«ãƒ†ã‚´ãƒª | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ•° | å‚™è€ƒ |
|---------|----------------|------|
| **DB CRUD** | 47å€‹ | å‰¯æ¬¡çš„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‰Šé™¤å¾Œ |
| **AI Core** | 30å€‹ | Q&A, Summary, Framework, Technology, Function Requirements, Function Structuring |
| **Task Generation** | 13å€‹ | Complete Task Generation (3) + Task Generation (5) + Task Quality (5) |
| **ãƒ¬ã‚¬ã‚·ãƒ¼ä¿ç•™** | 3å€‹ | Directory, Environment, TaskDetailï¼ˆPhase 3ã§å†åˆ©ç”¨ï¼‰ |
| **è¦æ¤œè¨** | 2å€‹ | Deploy, TaskChatï¼ˆãƒ“ã‚¸ãƒã‚¹è¦ä»¶æ¬¡ç¬¬ï¼‰ |
| **åˆè¨ˆ** | **95å€‹** | å‰Šé™¤: 17å€‹ï¼ˆ112 â†’ 95ï¼‰ |

---

## ğŸ—‚ï¸ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆæ•´ç†

### å‰Šé™¤æ¨å¥¨ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆPhase 1ï¼‰

```bash
# DB
back/models/project_base.py ã® AIDocument ã‚¯ãƒ©ã‚¹

# ãƒ«ãƒ¼ã‚¿ãƒ¼ï¼ˆ4å€‹ï¼‰
back/routers/tasks.py           # ReactFlowå¤‰æ›ï¼ˆçµ±åˆæ¸ˆã¿ï¼‰
back/routers/graphTask.py       # ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•ï¼ˆçµ±åˆæ¸ˆã¿ï¼‰
back/routers/durationTask.py    # æœŸé–“ç®—å‡ºï¼ˆçµ±åˆæ¸ˆã¿ï¼‰

# ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆ3å€‹ï¼‰
back/services/tasks_service.py
back/services/graphTask_service.py
back/services/durationTask_service.py
```

### ä¿ç•™ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆPhase 2ã€œ3ï¼‰

```bash
# å†åˆ©ç”¨å¯èƒ½æ€§ãŒé«˜ã„
back/routers/directory.py
back/routers/environment.py
back/routers/taskDetail.py
back/services/directory_service.py
back/services/environment_service.py
back/services/taskDetail_service.py

# ãƒ“ã‚¸ãƒã‚¹è¦ä»¶æ¬¡ç¬¬
back/routers/deploy.py
back/routers/taskChat.py
back/services/deploy_service.py
back/services/taskChat_service.py
```

### Phase 2ã®ä¸­æ ¸ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¿æŒå¿…é ˆï¼‰

```bash
# çµ±åˆã‚¿ã‚¹ã‚¯ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 
back/routers/complete_task_generation.py  # çµ±åˆAPI
back/routers/task_generation.py           # ã‚¿ã‚¹ã‚¯ç”ŸæˆAPIï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
back/routers/task_quality.py              # å“è³ªè©•ä¾¡APIï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰

back/services/integrated_task_service.py         # ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼
back/services/task_generation_service.py         # ã‚¿ã‚¹ã‚¯ç”Ÿæˆ
back/services/task_quality_evaluation_service.py # å“è³ªè©•ä¾¡ãƒ»æ”¹å–„
back/services/task_dependency_service.py         # ä¾å­˜é–¢ä¿‚ç”Ÿæˆ
back/services/task_position_service.py           # åº§æ¨™è¨ˆç®—

# æ©Ÿèƒ½æ§‹é€ åŒ–ï¼ˆReActã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰
back/routers/function_structuring.py
back/services/function_structuring_service.py
```

---

## ğŸ“Š å‰Šæ¸›åŠ¹æœï¼ˆä¿®æ­£ç‰ˆï¼‰

### Phase 1å®Ÿæ–½å¾Œ

| é …ç›® | å‰Šé™¤å‰ | å‰Šé™¤å¾Œ | å‰Šæ¸›æ•° |
|-----|--------|--------|--------|
| **APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ** | 112å€‹ | 104å€‹ | -8å€‹ |
| **ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«** | 24å€‹ | 20å€‹ | -4å€‹ |
| **ã‚µãƒ¼ãƒ“ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«** | 23å€‹ | 20å€‹ | -3å€‹ |
| **DBãƒ†ãƒ¼ãƒ–ãƒ«** | 11å€‹ | 10å€‹ | -1å€‹ |

### Phase 3å®Ÿæ–½å¾Œï¼ˆæœ€çµ‚å½¢æ…‹ï¼‰

| é …ç›® | å‰Šé™¤å‰ | å‰Šé™¤å¾Œ | å‰Šæ¸›æ•° |
|-----|--------|--------|--------|
| **APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ** | 112å€‹ | 95å€‹ | -17å€‹ |
| **ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«** | 24å€‹ | 17å€‹ | -7å€‹ |
| **ã‚µãƒ¼ãƒ“ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«** | 23å€‹ | 16å€‹ | -7å€‹ |

---

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### å³å®Ÿæ–½ï¼ˆPhase 1ï¼‰
1. âœ… AIDocument ãƒ†ãƒ¼ãƒ–ãƒ«å‰Šé™¤
2. âœ… å‰¯æ¬¡çš„CRUDã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‰Šé™¤ï¼ˆ5å€‹ï¼‰
3. âœ… çµ±åˆæ¸ˆã¿ãƒ«ãƒ¼ã‚¿ãƒ¼å‰Šé™¤ï¼ˆtasks, graphTask, durationTaskï¼‰

### FEå®Ÿè£…ï¼ˆPhase 2ï¼‰
4. ğŸ”œ `POST /api/complete_task_generation/generate_complete` ã®FEæ¥ç¶š
5. ğŸ”œ ã‚¿ã‚¹ã‚¯ç”Ÿæˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ã®å®Ÿè£…
6. ğŸ”œ ReactFlowã§ã®ã‚¿ã‚¹ã‚¯ä¾å­˜é–¢ä¿‚è¡¨ç¤º

### Phase 3è¨ˆç”»
7. ğŸ”® ã‚¿ã‚¹ã‚¯è©³ç´°ãƒãƒ³ã‚ºã‚ªãƒ³ç”Ÿæˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨­è¨ˆ
8. ğŸ”® environment_service / directory_service ã®å†åˆ©ç”¨æ¤œè¨
9. ğŸ”® ãƒ¬ã‚¬ã‚·ãƒ¼ã‚µãƒ¼ãƒ“ã‚¹ã®çµ±åˆãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

---

**ãƒ¬ãƒãƒ¼ãƒˆä½œæˆè€…**: Claude Code
**æœ€çµ‚æ›´æ–°**: 2025-10-09
